{"version":3,"file":"static/js/432.df15d759.chunk.js","mappings":"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","sources":["components/shared-styles/redirect-block.styled.jsx","pages/RegisterPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const RedirectWrapper = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import { Ring } from '@uiball/loaders';\nimport { Container } from 'components/shared-styles/container';\nimport {\n  AddButton,\n  ErrorText,\n  FieldWrapper,\n  Label,\n  StyledField,\n  StyledForm,\n} from 'components/shared-styles/form.styled';\nimport { LinkButton } from 'components/shared-styles/link-button.styled';\nimport { RedirectWrapper } from 'components/shared-styles/redirect-block.styled';\nimport { useFormik } from 'formik';\nimport { registrationValidationSchema } from 'helpers/form-validation-schemas';\nimport { errorToast } from 'helpers/toasts';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { useRegisterUserMutation } from 'redux/authApi';\nimport { setToken } from 'redux/tokenSlice';\nimport uniqid from 'uniqid';\n\nconst RegisterPage = () => {\n  const formik = useFormik({\n    initialValues: { name: '', email: '', password: '' },\n    onSubmit: ({ name, email, password }) =>\n      handleSubmit(name, email, password),\n    validationSchema: registrationValidationSchema,\n  });\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [registerUser, { isLoading }] = useRegisterUserMutation();\n\n  const nameInputId = uniqid();\n  const emailInputId = uniqid();\n  const passwordInputId = uniqid();\n\n  const handleSubmit = async (name, email, password) => {\n    formik.resetForm();\n    try {\n      const data = await registerUser({ name, email, password }).unwrap();\n      dispatch(setToken(data.token));\n      setTimeout(() => {\n        navigate('/contacts');\n      }, 0);\n    } catch (error) {\n      if (error.status === 400) {\n        errorToast('Wrong email or password');\n        return;\n      }\n      errorToast(error.error);\n    }\n  };\n\n  return (\n    <Container>\n      <h1>Register</h1>\n      <StyledForm onSubmit={formik.handleSubmit}>\n        <FieldWrapper>\n          <StyledField\n            className=\"styled-input\"\n            required\n            placeholder=\".\"\n            type=\"text\"\n            name=\"name\"\n            id={nameInputId}\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            value={formik.values.name}\n          />\n          <Label htmlFor={nameInputId}>Name</Label>\n          {formik.touched.name && formik.errors.name && (\n            <ErrorText>{formik.errors.name}</ErrorText>\n          )}\n        </FieldWrapper>\n        <FieldWrapper>\n          <StyledField\n            className=\"styled-input\"\n            required\n            placeholder=\".\"\n            type=\"email\"\n            name=\"email\"\n            id={emailInputId}\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            value={formik.values.email}\n          />\n          <Label htmlFor={emailInputId}>Email</Label>\n          {formik.touched.email && formik.errors.email && (\n            <ErrorText>{formik.errors.email}</ErrorText>\n          )}\n        </FieldWrapper>\n        <FieldWrapper>\n          <StyledField\n            className=\"styled-input\"\n            required\n            placeholder=\".\"\n            type=\"password\"\n            name=\"password\"\n            id={passwordInputId}\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            value={formik.values.password}\n          />\n          <Label htmlFor={passwordInputId}>Password</Label>\n          {formik.touched.password && formik.errors.password && (\n            <ErrorText>{formik.errors.password}</ErrorText>\n          )}\n        </FieldWrapper>\n        <AddButton type=\"submit\" disabled={isLoading}>\n          {isLoading ? (\n            <Ring size={40} lineWeight={5} speed={2} color=\"white\" />\n          ) : (\n            'Register'\n          )}\n        </AddButton>\n      </StyledForm>\n      <RedirectWrapper>\n        <p>Already registered?</p>\n        <LinkButton type=\"button\" onClick={() => navigate('/login')}>\n          LogIn\n        </LinkButton>\n      </RedirectWrapper>\n    </Container>\n  );\n};\n\nexport default RegisterPage;\n"],"names":["RedirectWrapper","styled","_templateObject","_taggedTemplateLiteral","formik","useFormik","initialValues","name","email","password","onSubmit","_ref","handleSubmit","validationSchema","registrationValidationSchema","dispatch","useDispatch","navigate","useNavigate","_useRegisterUserMutat","useRegisterUserMutation","_useRegisterUserMutat2","_slicedToArray","registerUser","isLoading","nameInputId","uniqid","emailInputId","passwordInputId","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","resetForm","unwrap","sent","setToken","token","setTimeout","t0","status","errorToast","abrupt","error","stop","_x","_x2","_x3","apply","arguments","_jsxs","Container","children","_jsx","StyledForm","FieldWrapper","StyledField","className","required","placeholder","type","id","onBlur","handleBlur","onChange","handleChange","value","values","Label","htmlFor","touched","errors","ErrorText","AddButton","disabled","Ring","size","lineWeight","speed","color","LinkButton","onClick"],"sourceRoot":""}