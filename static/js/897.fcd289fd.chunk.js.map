{"version":3,"file":"static/js/897.fcd289fd.chunk.js","mappings":"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","sources":["components/shared-styles/redirect-block.styled.jsx","pages/LogInPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const RedirectWrapper = styled.div`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n","import { Ring } from '@uiball/loaders';\nimport { Container } from 'components/shared-styles/container';\nimport {\n  AddButton,\n  ErrorText,\n  FieldWrapper,\n  Label,\n  StyledField,\n  StyledForm,\n} from 'components/shared-styles/form.styled';\nimport { LinkButton } from 'components/shared-styles/link-button.styled';\nimport { RedirectWrapper } from 'components/shared-styles/redirect-block.styled';\nimport { useFormik } from 'formik';\nimport { logInValidationSchema } from 'helpers/form-validation-schemas';\nimport { errorToast } from 'helpers/toasts';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { useLogInUserMutation } from 'redux/authApi';\nimport { setToken } from 'redux/tokenSlice';\nimport uniqid from 'uniqid';\n\nconst LogInPage = () => {\n  const formik = useFormik({\n    initialValues: { email: '', password: '' },\n    onSubmit: ({ email, password }) => handleSubmit(email, password),\n    validationSchema: logInValidationSchema,\n  });\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [logInUser, { isLoading }] = useLogInUserMutation();\n\n  const emailInputId = uniqid();\n  const passwordInputId = uniqid();\n\n  const handleSubmit = async (email, password) => {\n    formik.resetForm();\n    try {\n      const user = await logInUser({ email, password }).unwrap();\n      dispatch(setToken(user.token));\n      setTimeout(() => {\n        navigate('/contacts');\n      }, 0);\n    } catch (error) {\n      errorToast(error.error);\n    }\n  };\n\n  return (\n    <Container>\n      <h1>LogIn</h1>\n      <StyledForm onSubmit={formik.handleSubmit}>\n        <FieldWrapper>\n          <StyledField\n            className=\"styled-input\"\n            required\n            placeholder=\".\"\n            type=\"email\"\n            name=\"email\"\n            id={emailInputId}\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            value={formik.values.email}\n          />\n          <Label htmlFor={emailInputId}>Email</Label>\n          {formik.touched.email && formik.errors.email && (\n            <ErrorText>{formik.errors.email}</ErrorText>\n          )}\n        </FieldWrapper>\n        <FieldWrapper>\n          <StyledField\n            className=\"styled-input\"\n            required\n            placeholder=\".\"\n            type=\"password\"\n            name=\"password\"\n            id={passwordInputId}\n            onBlur={formik.handleBlur}\n            onChange={formik.handleChange}\n            value={formik.values.password}\n          />\n          <Label htmlFor={passwordInputId}>Password</Label>\n          {formik.touched.password && formik.errors.password && (\n            <ErrorText>{formik.errors.password}</ErrorText>\n          )}\n        </FieldWrapper>\n        <AddButton type=\"submit\" disabled={isLoading}>\n          {isLoading ? (\n            <Ring size={40} lineWeight={5} speed={2} color=\"white\" />\n          ) : (\n            'LogIn'\n          )}\n        </AddButton>\n      </StyledForm>\n      <RedirectWrapper>\n        <p>Don't have an account yet?</p>\n        <LinkButton type=\"button\" onClick={() => navigate('/register')}>\n          Create one here\n        </LinkButton>\n      </RedirectWrapper>\n    </Container>\n  );\n};\n\nexport default LogInPage;\n"],"names":["RedirectWrapper","styled","_templateObject","_taggedTemplateLiteral","formik","useFormik","initialValues","email","password","onSubmit","_ref","handleSubmit","validationSchema","logInValidationSchema","navigate","useNavigate","dispatch","useDispatch","_useLogInUserMutation","useLogInUserMutation","_useLogInUserMutation2","_slicedToArray","logInUser","isLoading","emailInputId","uniqid","passwordInputId","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","wrap","_context","prev","next","resetForm","unwrap","sent","setToken","token","setTimeout","t0","errorToast","error","stop","_x","_x2","apply","arguments","_jsxs","Container","children","_jsx","StyledForm","FieldWrapper","StyledField","className","required","placeholder","type","name","id","onBlur","handleBlur","onChange","handleChange","value","values","Label","htmlFor","touched","errors","ErrorText","AddButton","disabled","Ring","size","lineWeight","speed","color","LinkButton","onClick"],"sourceRoot":""}